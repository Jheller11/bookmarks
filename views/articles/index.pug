extends ../layout.pug

block content
    .nav.d-flex.justify-content-between
        div.d-flex.flex-row
            a.nav-link(href='/articles') All
            a.nav-link(href='/articles/unread') Unread
            a.nav-link(href='/articles/read') Read
            if (user)
                a.nav-link(href='/articles/my_articles') My Articles
                a.nav-link(href='/articles/new') New 
                    i.far.fa-plus-square
            else
                a.nav-link.disabled(href='/articles/my_articles') My Articles
                a.nav-link.disabled(href='/articles/new') New 
                    i.far.fa-plus-square 
        form.form-inline(method='POST' action="/articles/search")
            label.mr-2(for='query') Keyword Search:  
            input.form-control.mr-2(type='text' name='query' required)
            button.btn.btn-outline-dark.nav-link(type='submit') 
                i.fas.fa-search

    .card.d-flex.flex-row.p-2
        small.mr-4 Unread 
            i.far.fa-circle.text-flame
        small Read 
            i.far.fa-check-circle.text-blue
    .container-fluid
        .row.mt-2
            .card.col-8
                .card-body
                    each article, index in articles
                        if (article.read)
                            div.mt-1
                                a.d-flex.flex-row.justify-content-between.article-list-item.p-1(href=`/articles/${article.id}`)
                                    span.text-dark #{index + 1}. 
                                    div.w-75.text-truncate.text-dark #{article.title}
                                    div.text-secondary #{article.createdBy.name}      
                                        i.far.fa-check-circle.text-blue          
                        else 
                            div.mt-1
                                a.d-flex.flex-row.justify-content-between.article-list-item.p-1(href=`/articles/${article.id}`) 
                                    span.text-dark #{index + 1}. 
                                    div.w-75.text-truncate.text-dark #{article.title}
                                    div.text-secondary #{article.createdBy.name} 
                                        i.far.fa-circle.text-flame
            .col-4
                .card.my-1
                    .card-body
                        .card-text.text-secondary Articles, tutorials, and documentation.
                            if (!user)
                                div.mt-2 Sign in or create and save to create a personalized list.
                            else
                                div.mt-2 Click "My Articles" above to view only articles you've posted or "All" to see posts from all users.

